<!DOCTYPE html>
<html id="docs" lang="en" class="">
	<head>
	<meta charset="utf-8">
<title>[Experimental] Ascode Worker Model - CDS - Continuous Delivery Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="../../../../images/favicon.png">




<link rel="stylesheet" href="../../../../sass/styles.css" integrity="" media="screen">
<link rel="stylesheet" href="../../../../css/callouts.css">
<link rel="stylesheet" href="../../../../css/auto-complete.css">
<link rel="stylesheet" href="../../../../css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../css/asciinema-player.css">
<link rel="stylesheet" href="../../../../css/solarized-light.css">

<meta name="description"
    content="Description Worker model can be defined ascode. That&rsquo;s mean the definition of the worker model will be in a git repository, and each time you will push something, CDS will update it.
Prerequisite  You must use the new CDS permission system RBAC  Files To be detected by CDS, your worker model files must be in this directory .cds/worker-models/
*: mandatory field
Docker name: my-worker-model-name description: my description osarch: linux/amd64 type: docker spec: image: myregistry.">
<meta property="og:description"
    content="Description Worker model can be defined ascode. That&rsquo;s mean the definition of the worker model will be in a git repository, and each time you will push something, CDS will update it.
Prerequisite  You must use the new CDS permission system RBAC  Files To be detected by CDS, your worker model files must be in this directory .cds/worker-models/
*: mandatory field
Docker name: my-worker-model-name description: my description osarch: linux/amd64 type: docker spec: image: myregistry.">
<meta name="twitter:description"
    content="Description Worker model can be defined ascode. That&rsquo;s mean the definition of the worker model will be in a git repository, and each time you will push something, CDS will update it.
Prerequisite  You must use the new CDS permission system RBAC  Files To be detected by CDS, your worker model files must be in this directory .cds/worker-models/
*: mandatory field
Docker name: my-worker-model-name description: my description osarch: linux/amd64 type: docker spec: image: myregistry.">
<meta property="og:url" content="/docs/concepts/worker-model/ascode/">
<meta property="og:title" content="[Experimental] Ascode Worker Model">
<meta name="twitter:title" content="[Experimental] Ascode Worker Model">
<meta name="twitter:image:alt" content="CDS - Continuous Delivery Service">
<meta property="og:image" content="/images/cds-transparent.png">
<script type="text/javascript" src="../../../../js/anchor.min.js"></script>
<script type="text/javascript" src="../../../../js/jquery.min.js"></script>
<script type="text/javascript" src="../../../../js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../../../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../../../js/highlight.pack.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
<script type="text/javascript" src="../../../../js/script.js"></script>
<script type="text/javascript" src="../../../../js/lunr.min.js"></script>
<a id="indexJSON" href="../../../../index.json"></a>

<script type="text/javascript" src="../../../../js/auto-complete.min.js"></script>
<script type="text/javascript" src="../../../../js/search.js"></script>
<script type="text/javascript" src="../../../../js/asciinema-player.min.js"></script>

	</head>
	<body>
		<section id="hero" class="light-text no-sub">
			<a href="../../../../" class="logo"></a>
				<i id="tocburger" class="fa fa-bars" onclick='$("#toc").toggle()'></i><div class="nav-buttons" data-auto-burger="primary">
				<ul class="global-nav">
					
					
					<li><a href="../../../../docs/" class="active">Documentation</a></li>
					
					<li><a href="../../../../hosting/">Hosting your own instance</a></li>
					
					<li><a href="../../../../development/">CDS Developer Manual</a></li>
					
					<li><a href="../../../../about/">About</a></li>
					
					<li><i class="fa fa-search" onclick='$("#searchbox").toggle(); $("#search-query").focus().select()'></i></li>
					<li>
						<div id="btn-gh">
							<a class="github-button" href="https://github.com/ovh/cds" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star CDS on GitHub">Star</a>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</li>
				</ul>
				<div id="searchbox">
					<input data-search-input id="search-query" type="text" placeholder="search...">
					<span data-search-clear=""><i class="fa fa-close"></i></span>
				</div>
			</div>

<div id="headSubMenu" class="light-text">




	

		

		
		<ul>
			
			
			
			<li><a href="../../../../docs/">Home</a></li>
			
			
				
				<li><a href="../../../../docs/concepts/" class="menuSelected">Concepts</a></li>
			
				
				<li><a href="../../../../docs/actions/">Actions</a></li>
			
				
				<li><a href="../../../../docs/components/">Components</a></li>
			
				
				<li><a href="../../../../docs/integrations/">Integrations</a></li>
			
				
				<li><a href="../../../../docs/tutorials/">Tutorials</a></li>
			
		</ul>
		
	

	

		

		
	

	

		

		
	

	

		

		
	

</div>


		</section>
		<section id="page-content-with-menu">
			
<div id="toc">
     <div class="toc-container">
        
        
        
        
        
            
                
                    
                        
                            
                                    
                                    
                            
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                        
                    
                        
                    
                        
                    
                
            
        
            
                
                    
                
            
        
        
        <i class="fa fa-bars" id="tocburger" onclick='$("#toc").toggle()'></i> 
<a class="item" data-title="Concepts" href="../../../../docs/concepts/"></a>

	
	
	
	
		
			
<a class="item" data-title="Authentication" href="../../../../docs/concepts/authentication/"></a>

		
	
		
			
<a class="item" data-title="Job" href="../../../../docs/concepts/job/"></a>

		
	
		
			
<div class="item" data-title="New CDS as Code">
	<div class="container">
		
		<a class="item" data-title="New CDS as Code" href="../../../../docs/concepts/cds_as_code/"></a>
		
		
	
	
	
	
		
			
<div class="item" data-title="Permission">
	<div class="container">
		
		<a class="item" data-title="Permission" href="../../../../docs/concepts/cds_as_code/rbac/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Global roles" href="../../../../docs/concepts/cds_as_code/rbac/global/"></a>

		
	
		
			
<a class="item" data-title="Hatchery roles" href="../../../../docs/concepts/cds_as_code/rbac/hatchery/"></a>

		
	
		
			
<a class="item" data-title="Project roles" href="../../../../docs/concepts/cds_as_code/rbac/project/"></a>

		
	
		
			
<a class="item" data-title="Region roles" href="../../../../docs/concepts/cds_as_code/rbac/region/"></a>

		
	
		
			
<a class="item" data-title="Workflow roles" href="../../../../docs/concepts/cds_as_code/rbac/workflow/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Project">
	<div class="container">
		
		<a class="item" data-title="Project" href="../../../../docs/concepts/cds_as_code/project/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Repository Manager" href="../../../../docs/concepts/cds_as_code/project/repository_manager/"></a>

		
	
		
			
<a class="item" data-title="Repository" href="../../../../docs/concepts/cds_as_code/project/repository/"></a>

		
	
		
			
<a class="item" data-title="VariableSet" href="../../../../docs/concepts/cds_as_code/project/variableset/"></a>

		
	
		
			
<a class="item" data-title="Notification" href="../../../../docs/concepts/cds_as_code/project/notification/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="As code entities">
	<div class="container">
		
		<a class="item" data-title="As code entities" href="../../../../docs/concepts/cds_as_code/entities/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Workflow" href="../../../../docs/concepts/cds_as_code/entities/workflow/"></a>

		
	
		
			
<a class="item" data-title="Action" href="../../../../docs/concepts/cds_as_code/entities/action/"></a>

		
	
		
			
<a class="item" data-title="Worker Model" href="../../../../docs/concepts/cds_as_code/entities/worker_model/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Contexts" href="../../../../docs/concepts/cds_as_code/contexts/"></a>

		
	
		
			
<a class="item" data-title="Events" href="../../../../docs/concepts/cds_as_code/events/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Project" href="../../../../docs/concepts/project/"></a>

		
	
		
			
<a class="item" data-title="Permissions - ACLs" href="../../../../docs/concepts/permissions/"></a>

		
	
		
			
<a class="item" data-title="Pipeline" href="../../../../docs/concepts/pipeline/"></a>

		
	
		
			
<a class="item" data-title="Organization" href="../../../../docs/concepts/organization/"></a>

		
	
		
			
<a class="item" data-title="Variables" href="../../../../docs/concepts/variables/"></a>

		
	
		
			
<div class="item" data-title="Workflow">
	<div class="container">
		
		<a class="item" data-title="Workflow" href="../../../../docs/concepts/workflow/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Payload" href="../../../../docs/concepts/workflow/payload/"></a>

		
	
		
			
<a class="item" data-title="Pipeline Context" href="../../../../docs/concepts/workflow/pipeline-context/"></a>

		
	
		
			
<div class="item" data-title="Hooks">
	<div class="container">
		
		<a class="item" data-title="Hooks" href="../../../../docs/concepts/workflow/hooks/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Webhook" href="../../../../docs/concepts/workflow/hooks/webhook/"></a>

		
	
		
			
<a class="item" data-title="Scheduler" href="../../../../docs/concepts/workflow/hooks/scheduler/"></a>

		
	
		
			
<a class="item" data-title="Git Repository Webhook" href="../../../../docs/concepts/workflow/hooks/git-repo-webhook/"></a>

		
	
		
			
<a class="item" data-title="Git Repository Poller" href="../../../../docs/concepts/workflow/hooks/git-repo-poller/"></a>

		
	
		
			
<a class="item" data-title="Kafka hook" href="../../../../docs/concepts/workflow/hooks/kafka-hook/"></a>

		
	
		
			
<a class="item" data-title="RabbitMQ hook" href="../../../../docs/concepts/workflow/hooks/rabbitmq-hook/"></a>

		
	
		
			
<a class="item" data-title="Gerrit Hook" href="../../../../docs/concepts/workflow/hooks/gerrit/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Run conditions on pipeline" href="../../../../docs/concepts/workflow/run-conditions/"></a>

		
	
		
			
<a class="item" data-title="Join" href="../../../../docs/concepts/workflow/join/"></a>

		
	
		
			
<a class="item" data-title="Mutex" href="../../../../docs/concepts/workflow/mutex/"></a>

		
	
		
			
<a class="item" data-title="Sidebar" href="../../../../docs/concepts/workflow/sidebar/"></a>

		
	
		
			
<a class="item" data-title="Run Number" href="../../../../docs/concepts/workflow/run-number/"></a>

		
	
		
			
<a class="item" data-title="Notifications" href="../../../../docs/concepts/workflow/notifications/"></a>

		
	
		
			
<a class="item" data-title="Retention" href="../../../../docs/concepts/workflow/retention/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Requirement">
	<div class="container">
		
		<a class="item" data-title="Requirement" href="../../../../docs/concepts/requirement/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Region Requirement" href="../../../../docs/concepts/requirement/requirement_region/"></a>

		
	
		
			
<a class="item" data-title="Secret Requirement" href="../../../../docs/concepts/requirement/requirement_secret/"></a>

		
	
		
			
<a class="item" data-title="Service Link" href="../../../../docs/concepts/requirement/requirement_service/"></a>

		
	
		
			
<a class="item" data-title="Memory" href="../../../../docs/concepts/requirement/requirement_memory/"></a>

		
	
		
			
<a class="item" data-title="OS &amp; Architecture" href="../../../../docs/concepts/requirement/requirement_os_arch/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Configuration files">
	<div class="container">
		
		<a class="item" data-title="Configuration files" href="../../../../docs/concepts/files/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="Workflow configuration file" href="../../../../docs/concepts/files/workflow-syntax/"></a>

		
	
		
			
<a class="item" data-title="Pipeline configuration file" href="../../../../docs/concepts/files/pipeline-syntax/"></a>

		
	
		
			
<a class="item" data-title="Worker Model configuration file" href="../../../../docs/concepts/files/worker_model-syntax/"></a>

		
	
		
			
<a class="item" data-title="Action configuration file" href="../../../../docs/concepts/files/action-syntax/"></a>

		
	
		
			
<a class="item" data-title="Application configuration file" href="../../../../docs/concepts/files/application-syntax/"></a>

		
	
		
			
<a class="item" data-title="Environment configuration file" href="../../../../docs/concepts/files/environment-syntax/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Worker Model">
	<div class="container">
		
		<a class="item" data-title="Worker Model" href="../../../../docs/concepts/worker-model/"></a>
		
		
	
	
	
	
		
			
<a class="item" data-title="[Experimental] Ascode Worker Model" href="../../../../docs/concepts/worker-model/ascode/"></a>

		
	
		
			
<a class="item" data-title="Worker Model patterns" href="../../../../docs/concepts/worker-model/patterns/"></a>

		
	
		
			
<a class="item" data-title="Worker Model Variables" href="../../../../docs/concepts/worker-model/variables/"></a>

		
	

	</div>
</div>

		
	
		
			
<a class="item" data-title="Workflow Template" href="../../../../docs/concepts/template/"></a>

		
	





     </div>
</div>


			<div id="docsContent">
        		

<h1>[Experimental] Ascode Worker Model</h1>



<nav id="TableOfContents">
  <ul>
    <li><a href="#docker">Docker</a></li>
    <li><a href="#openstack">Openstack</a></li>
    <li><a href="#vsphere">vSphere</a></li>
  </ul>
</nav>

<h1 id="description">Description</h1>
<p>Worker model can be defined ascode. That&rsquo;s mean the definition of the worker model will be in a git repository, and each time you will push something, CDS will update it.</p>
<h1 id="prerequisite">Prerequisite</h1>
<ul>
<li>You must use the new CDS permission system <a href="../../../../docs/concepts/cds_as_code/rbac/">RBAC</a></li>
</ul>
<h1 id="files">Files</h1>
<p>To be detected by CDS, your worker model files must be in this directory <code>.cds/worker-models/</code></p>
<p><!-- raw HTML omitted -->*<!-- raw HTML omitted -->: mandatory field</p>
<h2 id="docker">Docker</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-worker-model-name</span>
<span style="color:#f92672">description</span>: <span style="color:#ae81ff">my description</span>
<span style="color:#f92672">osarch</span>: <span style="color:#ae81ff">linux/amd64</span>
<span style="color:#f92672">type</span>: <span style="color:#ae81ff">docker</span>
<span style="color:#f92672">spec</span>:
  <span style="color:#f92672">image</span>: <span style="color:#ae81ff">myregistry.org/ns/myworkermodel:1.0</span>
  <span style="color:#f92672">username</span>: <span style="color:#ae81ff">foo</span>
  <span style="color:#f92672">password</span>: <span style="color:#ae81ff">bar</span>
  <span style="color:#f92672">envs</span>:
    <span style="color:#f92672">myvar</span>: <span style="color:#ae81ff">myvalue</span>
</code></pre></div><p>Fields:</p>
<ul>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>name</code>: Name of the worker model</li>
<li><code>description</code>: Description of the worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>type</code>: Type of worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>osarch</code>: OS and architecture of the model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.image</code>: Docker image name</li>
<li><code>spec.username</code>: Docker registry username</li>
<li><code>spec.password</code>: Docker registry password. <!-- raw HTML omitted -->The field must be encrypted with <a href="../../../../docs/components/cdsctl/encrypt/">cdsctl</a><!-- raw HTML omitted --></li>
<li><code>spec.envs</code>: Additional environment variables</li>
</ul>
<h2 id="openstack">Openstack</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-worker-model-name</span>
<span style="color:#f92672">description</span>: <span style="color:#ae81ff">my description</span>
<span style="color:#f92672">type</span>: <span style="color:#ae81ff">openstack</span>
<span style="color:#f92672">osarch</span>: <span style="color:#ae81ff">linux/amd64</span>
<span style="color:#f92672">spec</span>: 
  <span style="color:#f92672">image</span>: <span style="color:#ae81ff">Ubuntu</span>
  <span style="color:#f92672">flavor</span>: <span style="color:#e6db74">&#34;b2-4&#34;</span>
</code></pre></div><p>Fields:</p>
<ul>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>name</code>: Name of the worker model</li>
<li><code>description</code>: Description of the worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>osarch</code>: OS and architecture of the model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>type</code>: Type of worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.image</code>: Openstack image name</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.flavor</code>: Openstack flavor to use</li>
</ul>
<h2 id="vsphere">vSphere</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-worker-model-name</span>
<span style="color:#f92672">description</span>: <span style="color:#ae81ff">my description</span>
<span style="color:#f92672">osarch</span>: <span style="color:#ae81ff">linux/amd64</span>
<span style="color:#f92672">type</span>: <span style="color:#ae81ff">vsphere</span>
<span style="color:#f92672">spec</span>:
  <span style="color:#f92672">image</span>: <span style="color:#ae81ff">Ubuntu</span>
  <span style="color:#f92672">username</span>: <span style="color:#ae81ff">foo</span>
  <span style="color:#f92672">password</span>: <span style="color:#ae81ff">bar</span>
</code></pre></div><p>Fields:</p>
<ul>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>name</code>: Name of the worker model</li>
<li><code>description</code>: Description of the worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>osarch</code>: OS and architecture of the model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>type</code>: Type of worker model</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.image</code>: vSphere template name</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.username</code>: username to use to connect to the VM</li>
<li><!-- raw HTML omitted -->*<!-- raw HTML omitted --><code>spec.password</code>: password to use to connect to the VM. <!-- raw HTML omitted -->The field must be encrypted with <a href="../../../../docs/components/cdsctl/encrypt/">cdsctl</a><!-- raw HTML omitted --></li>
</ul>




			</div>
		</section><footer>
			<main>
			<a href="https://www.ovh.com"><img src="https://ovh.github.io/cds/images/logo-ovh-white-72DPI.png"></a>
			<div>
				The CDS logos are copyrighted.
				Icons made by <a href="https://www.flaticon.com/authors/eucalyp">Eucalyp</a> 
				from <a href="https://www.flaticon.com/">www.flaticon.com</a>
			</div>
			</main>
		</footer>

	</body>
</html>
